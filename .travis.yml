# set the default os that we want to use 
os: osx

# set the language 
language: go 
go_import_path: github.com/MarcInthaamnouay/GoColorPicker
sudo: false
go: 
  - 1.8

install: 
  # Install the dependencies for testing 
  - go get github.com/stretchr/testify

before_install:
  - export GOPATH=/home/travis/gopath/src/github.com/MarcInthaamnouay/GoColorPicker
  # Download & install nvm 
  - curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.1/install.sh | bash
  - export NVM_DIR="$HOME/.nvm" 
  - [ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh" 
  - nvm install node
  - npm install --global mocha
  - npm install --global should 

before_script:
  - go build src/start.go

script: 
  # Launch the go test 
  - go test -v src/test/color_test.go
  - ./node_modules/mocha/bin/mocha